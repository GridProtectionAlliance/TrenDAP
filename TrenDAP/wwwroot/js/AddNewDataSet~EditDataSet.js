(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["AddNewDataSet~EditDataSet"],{

/***/ "./TypeScript/Constants.ts":
/*!*********************************!*\
  !*** ./TypeScript/Constants.ts ***!
  \*********************************/
/*! exports provided: HeavyCheckMark, Pencil, TrashCan, CrossMark, Plus, Warning, Spinner, Wrench */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeavyCheckMark", function() { return HeavyCheckMark; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Pencil", function() { return Pencil; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrashCan", function() { return TrashCan; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CrossMark", function() { return CrossMark; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Plus", function() { return Plus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Warning", function() { return Warning; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Spinner", function() { return Spinner; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Wrench", function() { return Wrench; });
//******************************************************************************************************
//  Constants.ts - Gbtc
//
//  Copyright ¬© 2020, Grid Protection Alliance.  All Rights Reserved.
//
//  Licensed to the Grid Protection Alliance (GPA) under one or more contributor license agreements. See
//  the NOTICE file distributed with this work for additional information regarding copyright ownership.
//  The GPA licenses this file to you under the MIT License (MIT), the "License"; you may not use this
//  file except in compliance with the License. You may obtain a copy of the License at:
//
//      http://opensource.org/licenses/MIT
//
//  Unless agreed to in writing, the subject software distributed under the License is distributed on an
//  "AS-IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. Refer to the
//  License for the specific language governing permissions and limitations.
//
//  Code Modification History:
//  ----------------------------------------------------------------------------------------------------
//  09/30/2020 - Billy Ernest
//       Generated original version of source code.
//
//******************************************************************************************************
// emojis
var HeavyCheckMark = '‚úîÔ∏è';
var Pencil = '‚úèÔ∏è';
var TrashCan = 'üóëÔ∏è';
var CrossMark = '‚ùå';
var Plus = '‚ûï';
var Warning = '‚ö†Ô∏è';
var Spinner = 'üîÑ';
var Wrench = 'üîß';



/***/ }),

/***/ "./TypeScript/Features/DataSets/DataSet.tsx":
/*!**************************************************!*\
  !*** ./TypeScript/Features/DataSets/DataSet.tsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @gpa-gemstone/react-forms */ "../node_modules/@gpa-gemstone/react-forms/lib/index.js");
/* harmony import */ var _gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Constants */ "./TypeScript/Constants.ts");
/* harmony import */ var _DataSources_DataSourcesSlice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../DataSources/DataSourcesSlice */ "./TypeScript/Features/DataSources/DataSourcesSlice.ts");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "../node_modules/react-redux/es/index.js");
/* harmony import */ var _DataSourceTypes_DataSourceTypesSlice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../DataSourceTypes/DataSourceTypesSlice */ "./TypeScript/Features/DataSourceTypes/DataSourceTypesSlice.ts");
/* harmony import */ var _DataSetsSlice__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DataSetsSlice */ "./TypeScript/Features/DataSets/DataSetsSlice.ts");
/* harmony import */ var _OpenXDA_OpenXDASlice__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../OpenXDA/OpenXDASlice */ "./TypeScript/Features/OpenXDA/OpenXDASlice.ts");
/* harmony import */ var _Styles_app_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../Styles/app.scss */ "./Styles/app.scss");
/* harmony import */ var _Styles_app_scss__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_Styles_app_scss__WEBPACK_IMPORTED_MODULE_8__);
//******************************************************************************************************
//  DataSet.tsx - Gbtc
//
//  Copyright ¬© 2020, Grid Protection Alliance.  All Rights Reserved.
//
//  Licensed to the Grid Protection Alliance (GPA) under one or more contributor license agreements. See
//  the NOTICE file distributed with this work for additional information regarding copyright ownership.
//  The GPA licenses this file to you under the MIT License (MIT), the "License"; you may not use this
//  file except in compliance with the License. You may obtain a copy of the License at:
//
//      http://opensource.org/licenses/MIT
//
//  Unless agreed to in writing, the subject software distributed under the License is distributed on an
//  "AS-IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. Refer to the
//  License for the specific language governing permissions and limitations.
//
//  Code Modification History:
//  ----------------------------------------------------------------------------------------------------
//  09/25/2020 - Billy Ernest
//       Generated original version of source code.
//
//******************************************************************************************************
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};









var DataSet = function (props) {
    var dataSourceTypes = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_DataSourceTypes_DataSourceTypesSlice__WEBPACK_IMPORTED_MODULE_5__["SelectDataSourceTypes"]);
    var dstStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_DataSourceTypes_DataSourceTypesSlice__WEBPACK_IMPORTED_MODULE_5__["SelectDataSourceTypesStatus"]);
    var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useDispatch"])();
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        if (dstStatus != 'unitiated')
            return;
        dispatch(Object(_DataSourceTypes_DataSourceTypesSlice__WEBPACK_IMPORTED_MODULE_5__["FetchDataSourceTypes"])());
        return function () {
        };
    }, [dispatch, dstStatus]);
    var _a = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]('settings'), 2), tab = _a[0], setTab = _a[1];
    var dataSources = JSON.parse(props.Record.JSONString);
    return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null,
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("ul", { className: "nav nav-tabs", style: { padding: 10 } },
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("li", { className: "nav-item" },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("a", { className: "nav-link active", "data-toggle": "tab", onClick: function () { return setTab('settings'); } }, "Settings")),
            dataSources.map(function (ds, index) { return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("li", { className: "nav-item " + _Styles_app_scss__WEBPACK_IMPORTED_MODULE_8___default.a.workspacetab, key: index },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("a", { className: "nav-link", "data-toggle": "tab", onClick: function () { return setTab(index.toString()); } }, ds.DataSource.Name),
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", { onClick: function () {
                        var json = JSON.parse(props.Record.JSONString);
                        json.splice(index, 1);
                        props.SetDataSet(__assign(__assign({}, props.Record), { JSONString: JSON.stringify(json) }));
                    } }, "X"))); })),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "tab-content" },
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "tab-pane container " + (tab === "settings" ? 'active' : 'fade') },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"](DataSetGlobalSettings, __assign({}, props))),
            dataSources.map(function (ds, index) {
                var _a;
                return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "tab-pane container " + (tab === index.toString() ? 'active' : 'fade'), id: index, key: index }, (((_a = dataSourceTypes.find(function (dst) { return dst.ID === ds.DataSource.DataSourceTypeID; })) === null || _a === void 0 ? void 0 : _a.Name) === "TrenDAPDB" ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"](DataSetOpenXDA, __assign({}, props, { Data: ds, Index: index })) : null)));
            }))));
};
var DataSetGlobalSettings = function (props) {
    var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useDispatch"])();
    var dataSources = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(function (state) { return Object(_DataSources_DataSourcesSlice__WEBPACK_IMPORTED_MODULE_3__["SelectDataSourcesForUser"])(state, userName); });
    var publicDataSources = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(function (state) { return Object(_DataSources_DataSourcesSlice__WEBPACK_IMPORTED_MODULE_3__["SelectDataSourcesAllPublicNotUser"])(state, userName); });
    var dsStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_DataSources_DataSourcesSlice__WEBPACK_IMPORTED_MODULE_3__["SelectDataSourcesStatus"]);
    var dataSourceTypes = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_DataSourceTypes_DataSourceTypesSlice__WEBPACK_IMPORTED_MODULE_5__["SelectDataSourceTypes"]);
    var dstStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_DataSourceTypes_DataSourceTypesSlice__WEBPACK_IMPORTED_MODULE_5__["SelectDataSourceTypesStatus"]);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        if (dsStatus != 'unitiated' && dsStatus != 'changed')
            return;
        dispatch(Object(_DataSources_DataSourcesSlice__WEBPACK_IMPORTED_MODULE_3__["FetchDataSources"])());
        return function () {
        };
    }, [dispatch, dsStatus]);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        if (dstStatus != 'unitiated')
            return;
        dispatch(Object(_DataSourceTypes_DataSourceTypesSlice__WEBPACK_IMPORTED_MODULE_5__["FetchDataSourceTypes"])());
        return function () {
        };
    }, [dispatch, dstStatus]);
    function valid(field) {
        if (field == 'Name')
            return props.Record.Name != null && props.Record.Name.length > 0 && props.Record.Name.length <= 200;
        else
            return true;
    }
    function AddDS(dataSource) {
        var json = JSON.parse(props.Record.JSONString);
        json.push({ DataSource: dataSource, Data: GetDS(dataSource) });
        props.SetDataSet(__assign(__assign({}, props.Record), { JSONString: JSON.stringify(json) }));
    }
    function GetDS(dataSource) {
        if (dataSourceTypes.find(function (dst) { return dst.ID === dataSource.DataSourceTypeID; }).Name === "TrenDAPDB")
            return Object(_DataSetsSlice__WEBPACK_IMPORTED_MODULE_6__["SelectNewXDADataSet"])();
        else
            return {};
    }
    return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("form", null,
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_1__["Input"], { Record: props.Record, Field: "Name", Setter: function (record) { return props.SetDataSet(record); }, Valid: valid }),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](RelativeDateRangePicker, { Record: props.Record, Setter: function (record) { return props.SetDataSet(record); } }),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_1__["EnumCheckBoxes"], { Record: props.Record, Field: "Hours", Label: "Hour of Day", Setter: function (record) { return props.SetDataSet(record); }, Enum: Array.from({ length: 24 }, function (_, i) { return i.toString(); }) }),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_1__["EnumCheckBoxes"], { Record: props.Record, Field: "Days", Label: "Day of Week", Setter: function (record) { return props.SetDataSet(record); }, Enum: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'] }),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_1__["EnumCheckBoxes"], { Record: props.Record, Field: "Weeks", Label: "Week of Year", Setter: function (record) { return props.SetDataSet(record); }, Enum: Array.from({ length: 53 }, function (_, i) { return i.toString(); }) }),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_1__["EnumCheckBoxes"], { Record: props.Record, Field: "Months", Label: "Month of Year", Setter: function (record) { return props.SetDataSet(record); }, Enum: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'] }),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_1__["CheckBox"], { Record: props.Record, Field: "Public", Label: 'Global', Setter: function (record) { return props.SetDataSet(record); } }),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "form-group" },
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "dropup" },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("button", { className: "btn btn-secondary dropdown-toggle", type: "button", id: "dropdownMenuButton", "data-toggle": "dropdown", "aria-haspopup": "true", "aria-expanded": "false" },
                    _Constants__WEBPACK_IMPORTED_MODULE_2__["Plus"],
                    " DataSource"),
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "dropdown-menu", "aria-labelledby": "dropdownMenuButton" },
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "dropdown-header" }, "Your DataSources"),
                    dataSources.map(function (ds) { var _a; return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("a", { key: ds.ID, className: "dropdown-item", onClick: function () { return AddDS(ds); } },
                        ds.Name,
                        " (", (_a = dataSourceTypes.find(function (dst) { return dst.ID === ds.DataSourceTypeID; })) === null || _a === void 0 ? void 0 :
                        _a.Name,
                        ")"); }),
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "dropdown-header" }, "Global DataSources"),
                    publicDataSources.map(function (ds) { var _a; return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("a", { key: ds.ID, className: "dropdown-item", onClick: function () { return AddDS(ds); } },
                        ds.Name,
                        " (", (_a = dataSourceTypes.find(function (dst) { return dst.ID === ds.DataSourceTypeID; })) === null || _a === void 0 ? void 0 :
                        _a.Name,
                        ")"); }))))));
};
var RelativeDateRangePicker = function (props) {
    var _a = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](props.Record.Context), 2), context = _a[0], setContext = _a[1];
    var _b = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](props.Record.RelativeValue), 2), relativeValue = _b[0], setRelativeValue = _b[1];
    var _c = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](props.Record.RelativeWindow), 2), relativeWindow = _c[0], setRelativeWindow = _c[1];
    var _d = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](props.Record.From), 2), startDate = _d[0], setStartDate = _d[1];
    var _e = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](props.Record.To), 2), endDate = _e[0], setEndDate = _e[1];
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        if (context !== props.Record.Context)
            setContext(props.Record.Context);
        if (relativeValue !== props.Record.RelativeValue)
            setRelativeValue(props.Record.RelativeValue);
        if (relativeWindow !== props.Record.RelativeWindow)
            setRelativeWindow(props.Record.RelativeWindow);
        if (startDate !== props.Record.From)
            setStartDate(props.Record.From);
        if (endDate !== props.Record.To)
            setEndDate(props.Record.To);
    }, [props.Record]);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        if (context !== props.Record.Context) {
            var newRecord = __assign({}, props.Record);
            newRecord.Context = context;
            props.Setter(newRecord);
        }
    }, [context]);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        if (relativeValue !== props.Record.RelativeValue) {
            var newRecord = __assign({}, props.Record);
            newRecord.RelativeValue = relativeValue;
            props.Setter(newRecord);
        }
    }, [relativeValue]);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        if (relativeWindow !== props.Record.RelativeWindow) {
            var newRecord = __assign({}, props.Record);
            newRecord.RelativeWindow = relativeWindow;
            props.Setter(newRecord);
        }
    }, [relativeWindow]);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        if (startDate !== props.Record.From) {
            var newRecord = __assign({}, props.Record);
            newRecord.From = startDate;
            props.Setter(newRecord);
        }
    }, [startDate]);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        if (endDate !== props.Record.To) {
            var newRecord = __assign({}, props.Record);
            newRecord.To = endDate;
            props.Setter(newRecord);
        }
    }, [endDate]);
    var ShowContent = function () {
        if (context == 'Relative')
            return ShowRelative();
        else
            return ShowFixed();
    };
    var ShowRelative = function () {
        return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null,
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: 'col' },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("label", null, "Time Window Size"),
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("input", { value: relativeValue, type: 'number', className: 'form-control', onChange: function (evt) { return setRelativeValue(parseFloat(evt.target.value)); } })),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: 'col' },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("label", null, "Time Window Units"),
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("select", { className: 'form-control', value: relativeWindow, onChange: function (evt) { return setRelativeWindow(evt.target.value); } },
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("option", { value: 'Day' }, "Day(s)"),
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("option", { value: 'Week' }, "Week(s)"),
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("option", { value: 'Month' }, "Month(s)"),
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("option", { value: 'Year' }, "Year(s)")))));
    };
    var ShowFixed = function () {
        return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null,
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: 'col' },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("label", null, "Start Date"),
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("input", { value: startDate, type: 'date', className: 'form-control', onChange: function (evt) { return setStartDate(evt.target.value); } })),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: 'col' },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("label", null, "End Date"),
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("input", { value: endDate, type: 'date', className: 'form-control', onChange: function (evt) { return setEndDate(evt.target.value); } }))));
    };
    return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: 'row' },
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: 'col' },
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("label", null, "Time Context"),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("select", { className: 'form-control', value: context, onChange: function (evt) { return setContext(evt.target.value); } },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("option", { value: 'Relative' }, "Relative"),
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("option", { value: 'Fixed Dates' }, "Fixed Dates"))),
        ShowContent()));
};
var DataSetOpenXDA = function (props) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;
    var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useDispatch"])();
    var phases = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(function (state) { return Object(_OpenXDA_OpenXDASlice__WEBPACK_IMPORTED_MODULE_7__["SelectOpenXDA"])(state, props.Data.DataSource.ID, 'Phase'); });
    var meters = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(function (state) { return Object(_OpenXDA_OpenXDASlice__WEBPACK_IMPORTED_MODULE_7__["SelectOpenXDA"])(state, props.Data.DataSource.ID, 'Meter'); });
    var assets = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(function (state) { return Object(_OpenXDA_OpenXDASlice__WEBPACK_IMPORTED_MODULE_7__["SelectOpenXDA"])(state, props.Data.DataSource.ID, 'Asset'); });
    var channelGroups = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(function (state) { return Object(_OpenXDA_OpenXDASlice__WEBPACK_IMPORTED_MODULE_7__["SelectOpenXDA"])(state, props.Data.DataSource.ID, 'ChannelGroup'); });
    var channelTypes = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(function (state) { return Object(_OpenXDA_OpenXDASlice__WEBPACK_IMPORTED_MODULE_7__["SelectOpenXDA"])(state, props.Data.DataSource.ID, 'ChannelGroupType'); });
    function UpdateDS() {
        var params = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            params[_i] = arguments[_i];
        }
        var json = JSON.parse(props.Record.JSONString);
        json[props.Index].Data = __assign({}, props.Data.Data);
        for (var index in params)
            json[props.Index].Data[params[index].field] = params[index].value;
        props.SetDataSet(__assign(__assign({}, props.Record), { JSONString: JSON.stringify(json) }));
    }
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        var _a, _b;
        if (phases != undefined && ((_a = phases) === null || _a === void 0 ? void 0 : _a.Status) != 'unitiated' && ((_b = phases) === null || _b === void 0 ? void 0 : _b.Status) != 'changed')
            return;
        dispatch(Object(_OpenXDA_OpenXDASlice__WEBPACK_IMPORTED_MODULE_7__["FetchOpenXDA"])({ dataSourceID: props.Data.DataSource.ID, table: 'Phase' }));
        return function () {
        };
    }, [dispatch, (_a = phases) === null || _a === void 0 ? void 0 : _a.Status]);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        var _a, _b;
        if (meters != undefined && ((_a = meters) === null || _a === void 0 ? void 0 : _a.Status) != 'unitiated' && ((_b = meters) === null || _b === void 0 ? void 0 : _b.Status) != 'changed')
            return;
        dispatch(Object(_OpenXDA_OpenXDASlice__WEBPACK_IMPORTED_MODULE_7__["FetchOpenXDA"])({ dataSourceID: props.Data.DataSource.ID, table: 'Meter' }));
        return function () {
        };
    }, [dispatch, (_b = meters) === null || _b === void 0 ? void 0 : _b.Status]);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        var _a, _b;
        if (assets != undefined && ((_a = assets) === null || _a === void 0 ? void 0 : _a.Status) != 'unitiated' && ((_b = assets) === null || _b === void 0 ? void 0 : _b.Status) != 'changed')
            return;
        dispatch(Object(_OpenXDA_OpenXDASlice__WEBPACK_IMPORTED_MODULE_7__["FetchOpenXDA"])({ dataSourceID: props.Data.DataSource.ID, table: 'Asset' }));
        return function () {
        };
    }, [dispatch, (_c = assets) === null || _c === void 0 ? void 0 : _c.Status]);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        var _a, _b;
        if (channelGroups != undefined && ((_a = channelGroups) === null || _a === void 0 ? void 0 : _a.Status) != 'unitiated' && ((_b = channelGroups) === null || _b === void 0 ? void 0 : _b.Status) != 'changed')
            return;
        dispatch(Object(_OpenXDA_OpenXDASlice__WEBPACK_IMPORTED_MODULE_7__["FetchOpenXDA"])({ dataSourceID: props.Data.DataSource.ID, table: 'ChannelGroup' }));
        return function () {
        };
    }, [dispatch, (_d = channelGroups) === null || _d === void 0 ? void 0 : _d.Status]);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        var _a, _b;
        if (channelTypes != undefined && ((_a = channelTypes) === null || _a === void 0 ? void 0 : _a.Status) != 'unitiated' && ((_b = channelTypes) === null || _b === void 0 ? void 0 : _b.Status) != 'changed')
            return;
        dispatch(Object(_OpenXDA_OpenXDASlice__WEBPACK_IMPORTED_MODULE_7__["FetchOpenXDA"])({ dataSourceID: props.Data.DataSource.ID, table: 'ChannelGroupType' }));
        return function () {
        };
    }, [dispatch, (_e = channelTypes) === null || _e === void 0 ? void 0 : _e.Status]);
    return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("form", null,
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "row" },
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "col" },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_1__["Select"], { Record: props.Data.Data, Field: "Aggregate", Options: [{ Value: '', Label: 'None' }, { Value: '1h', Label: 'Hour' }, { Value: '1d', Label: 'Day' }, { Value: '1w', Label: 'Week' }], Setter: function (record) { return UpdateDS({ field: 'Aggregate', value: record.Aggregate }); } }),
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_1__["Select"], { Record: props.Data.Data, Field: "By", Options: [{ Value: 'Meter', Label: 'Meter' }, { Value: 'Asset', Label: 'Asset' }], Setter: function (record) { return UpdateDS({ field: 'By', value: record.By }, { field: 'IDs', value: [] }); } }),
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_1__["ArrayMultiSelect"], { Style: { height: window.innerHeight - 510 }, Record: props.Data.Data, Options: (_h = (props.Data.Data.By == 'Meter' ? (_f = meters) === null || _f === void 0 ? void 0 : _f.Data.map(function (m) { return ({ Value: m.ID, Label: m.Name }); }) : (_g = assets) === null || _g === void 0 ? void 0 : _g.Data.map(function (m) { return ({ Value: m.ID, Label: m.AssetName }); })), (_h !== null && _h !== void 0 ? _h : [])), Field: "IDs", Setter: function (record) { return UpdateDS({ field: 'IDs', value: record.IDs }); } })),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "col" },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_1__["ArrayCheckBoxes"], { Record: props.Data.Data, Checkboxes: (_k = (_j = phases) === null || _j === void 0 ? void 0 : _j.Data.map(function (m) { return ({ ID: m.ID, Label: m.Name }); }), (_k !== null && _k !== void 0 ? _k : [])), Field: "Phases", Setter: function (record) { return UpdateDS({ field: 'Phases', value: record.Phases }); } }),
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_1__["ArrayCheckBoxes"], { Label: "Quick Selection", Record: props.Data.Data, Checkboxes: (_m = (_l = channelGroups) === null || _l === void 0 ? void 0 : _l.Data.map(function (m) { return ({ ID: m.ID, Label: m.Name }); }), (_m !== null && _m !== void 0 ? _m : [])), Field: "Groups", Setter: function (record) {
                        var oldGroups = props.Data.Data.Groups;
                        if (oldGroups.length > record.Groups.length) { // something was taken out
                            var a = oldGroups.map(function (x) { return record.Groups.indexOf(x); });
                            var i_1 = a.indexOf(-1);
                            var channelGroupID = oldGroups[i_1];
                            var newa = props.Data.Data.Types.map(function (t) { return channelTypes.Data.find(function (ct) { return ct.ID === t; }); }).filter(function (t) { return t.ChannelGroupID !== oldGroups[i_1]; }).map(function (t) { return t.ID; });
                            UpdateDS({ field: 'Groups', value: record.Groups }, { field: 'Types', value: newa });
                        }
                        else if (oldGroups.length < record.Groups.length) { // something was put in
                            var a = record.Groups.map(function (x) { return oldGroups.indexOf(x); });
                            var i = a.indexOf(-1);
                            var channelGroupID_1 = record.Groups[i];
                            var newa = __spread(props.Data.Data.Types, channelTypes.Data.filter(function (t) { return t.ChannelGroupID === channelGroupID_1; }).map(function (t) { return t.ID; }));
                            UpdateDS({ field: 'Groups', value: record.Groups }, { field: 'Types', value: newa });
                        }
                        else { // this probably can't happen, but means nothing changed
                        }
                    } }),
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_1__["ArrayMultiSelect"], { Style: { height: window.innerHeight - 520 }, Record: props.Data.Data, Options: (_p = (_o = channelTypes) === null || _o === void 0 ? void 0 : _o.Data.map(function (m) { return ({ Value: m.ID, Label: m.DisplayName }); }), (_p !== null && _p !== void 0 ? _p : [])), Field: "Types", Setter: function (record) { return UpdateDS({ field: 'Types', value: record.Types }); } })))));
};
/* harmony default export */ __webpack_exports__["default"] = (DataSet);


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9UeXBlU2NyaXB0L0NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly8vLi9UeXBlU2NyaXB0L0ZlYXR1cmVzL0RhdGFTZXRzL0RhdGFTZXQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSx3R0FBd0c7QUFDeEcsdUJBQXVCO0FBQ3ZCLEVBQUU7QUFDRixxRUFBcUU7QUFDckUsRUFBRTtBQUNGLHdHQUF3RztBQUN4Ryx3R0FBd0c7QUFDeEcsc0dBQXNHO0FBQ3RHLHdGQUF3RjtBQUN4RixFQUFFO0FBQ0YsMENBQTBDO0FBQzFDLEVBQUU7QUFDRix3R0FBd0c7QUFDeEcsd0dBQXdHO0FBQ3hHLDRFQUE0RTtBQUM1RSxFQUFFO0FBQ0YsOEJBQThCO0FBQzlCLHdHQUF3RztBQUN4Ryw2QkFBNkI7QUFDN0IsbURBQW1EO0FBQ25ELEVBQUU7QUFDRix3R0FBd0c7QUFFeEcsU0FBUztBQUNULElBQU0sY0FBYyxHQUFHLElBQUksQ0FBQztBQUM1QixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUM7QUFDcEIsSUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDO0FBQ3ZCLElBQU0sU0FBUyxHQUFHLEdBQUcsQ0FBQztBQUN0QixJQUFNLElBQUksR0FBRyxHQUFHLENBQUM7QUFDakIsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDO0FBQ3JCLElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQztBQUNyQixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUM7QUFFbUU7Ozs7Ozs7Ozs7Ozs7QUNqQ3ZGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsd0dBQXdHO0FBQ3hHLHNCQUFzQjtBQUN0QixFQUFFO0FBQ0YscUVBQXFFO0FBQ3JFLEVBQUU7QUFDRix3R0FBd0c7QUFDeEcsd0dBQXdHO0FBQ3hHLHNH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QUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sY0FBRSxZQUFZLDBDQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBQyxJQUFJLFFBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQXZDLENBQXVDLHdDQUFLLEVBQUUsSUFBRSxLQUFLLEVBQUMsT0FBTyxFQUFDLE1BQU0sRUFBRSxVQUFDLE1BQU0sSUFBSyxlQUFRLENBQUMsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBakQsQ0FBaUQsR0FBSSxDQUN2UixDQUNKLENBQ0gsQ0FDVixDQUFDO0FBRU4sQ0FBQztBQUVjLHNFQUFPLEVBQUMiLCJmaWxlIjoiQWRkTmV3RGF0YVNldH5FZGl0RGF0YVNldC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbi8vICBDb25zdGFudHMudHMgLSBHYnRjXHJcbi8vXHJcbi8vICBDb3B5cmlnaHQgwqkgMjAyMCwgR3JpZCBQcm90ZWN0aW9uIEFsbGlhbmNlLiAgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuLy9cclxuLy8gIExpY2Vuc2VkIHRvIHRoZSBHcmlkIFByb3RlY3Rpb24gQWxsaWFuY2UgKEdQQSkgdW5kZXIgb25lIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiBTZWVcclxuLy8gIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC5cclxuLy8gIFRoZSBHUEEgbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHRoZSBcIkxpY2Vuc2VcIjsgeW91IG1heSBub3QgdXNlIHRoaXNcclxuLy8gIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxyXG4vL1xyXG4vLyAgICAgIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcclxuLy9cclxuLy8gIFVubGVzcyBhZ3JlZWQgdG8gaW4gd3JpdGluZywgdGhlIHN1YmplY3Qgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cclxuLy8gIFwiQVMtSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFJlZmVyIHRvIHRoZVxyXG4vLyAgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMuXHJcbi8vXHJcbi8vICBDb2RlIE1vZGlmaWNhdGlvbiBIaXN0b3J5OlxyXG4vLyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAgMDkvMzAvMjAyMCAtIEJpbGx5IEVybmVzdFxyXG4vLyAgICAgICBHZW5lcmF0ZWQgb3JpZ2luYWwgdmVyc2lvbiBvZiBzb3VyY2UgY29kZS5cclxuLy9cclxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbi8vIGVtb2ppc1xyXG5jb25zdCBIZWF2eUNoZWNrTWFyayA9ICfinJTvuI8nO1xyXG5jb25zdCBQZW5jaWwgPSAn4pyP77iPJztcclxuY29uc3QgVHJhc2hDYW4gPSAn8J+Xke+4jyc7XHJcbmNvbnN0IENyb3NzTWFyayA9ICfinYwnO1xyXG5jb25zdCBQbHVzID0gJ+KelSc7XHJcbmNvbnN0IFdhcm5pbmcgPSAn4pqg77iPJztcclxuY29uc3QgU3Bpbm5lciA9ICfwn5SEJztcclxuY29uc3QgV3JlbmNoID0gJ/CflKcnO1xyXG5cclxuZXhwb3J0IHsgSGVhdnlDaGVja01hcmssIFBlbmNpbCwgVHJhc2hDYW4sIENyb3NzTWFyaywgUGx1cywgV2FybmluZywgU3Bpbm5lciwgV3JlbmNoIH07IiwiLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuLy8gIERhdGFTZXQudHN4IC0gR2J0Y1xyXG4vL1xyXG4vLyAgQ29weXJpZ2h0IMKpIDIwMjAsIEdyaWQgUHJvdGVjdGlvbiBBbGxpYW5jZS4gIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbi8vXHJcbi8vICBMaWNlbnNlZCB0byB0aGUgR3JpZCBQcm90ZWN0aW9uIEFsbGlhbmNlIChHUEEpIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlXHJcbi8vICB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuXHJcbi8vICBUaGUgR1BBIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCB0aGUgXCJMaWNlbnNlXCI7IHlvdSBtYXkgbm90IHVzZSB0aGlzXHJcbi8vICBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcclxuLy9cclxuLy8gICAgICBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXHJcbi8vXHJcbi8vICBVbmxlc3MgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHRoZSBzdWJqZWN0IHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXHJcbi8vICBcIkFTLUlTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBSZWZlciB0byB0aGVcclxuLy8gIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zLlxyXG4vL1xyXG4vLyAgQ29kZSBNb2RpZmljYXRpb24gSGlzdG9yeTpcclxuLy8gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gIDA5LzI1LzIwMjAgLSBCaWxseSBFcm5lc3RcclxuLy8gICAgICAgR2VuZXJhdGVkIG9yaWdpbmFsIHZlcnNpb24gb2Ygc291cmNlIGNvZGUuXHJcbi8vXHJcbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IFRyZW5EQVAsIFJlZHV4IH0gZnJvbSAnLi4vLi4vZ2xvYmFsJztcclxuaW1wb3J0IHsgSW5wdXQsIENoZWNrQm94LCBFbnVtQ2hlY2tCb3hlcywgRGF0ZVJhbmdlUGlja2VyLCBTZWxlY3QsIEFycmF5Q2hlY2tCb3hlcywgQXJyYXlNdWx0aVNlbGVjdCB9IGZyb20gJ0BncGEtZ2Vtc3RvbmUvcmVhY3QtZm9ybXMnO1xyXG5pbXBvcnQgeyBQbHVzIH0gZnJvbSAnLi4vLi4vQ29uc3RhbnRzJztcclxuaW1wb3J0IHsgU2VsZWN0RGF0YVNvdXJjZXNTdGF0dXMsIFNlbGVjdERhdGFTb3VyY2VzQWxsUHVibGljTm90VXNlciwgU2VsZWN0RGF0YVNvdXJjZXNGb3JVc2VyLCBGZXRjaERhdGFTb3VyY2VzIH0gZnJvbSAnLi4vRGF0YVNvdXJjZXMvRGF0YVNvdXJjZXNTbGljZSc7XHJcbmltcG9ydCB7IHVzZVNlbGVjdG9yLCB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IHsgU2VsZWN0RGF0YVNvdXJjZVR5cGVzLCBTZWxlY3REYXRhU291cmNlVHlwZXNTdGF0dXMsIEZldGNoRGF0YVNvdXJjZVR5cGVzIH0gZnJvbSAnLi4vRGF0YVNvdXJjZVR5cGVzL0RhdGFTb3VyY2VUeXBlc1NsaWNlJztcclxuaW1wb3J0IHsgU2VsZWN0TmV3WERBRGF0YVNldCB9IGZyb20gJy4vRGF0YVNldHNTbGljZSc7XHJcbmltcG9ydCB7IFNlbGVjdE9wZW5YREEsIEZldGNoT3BlblhEQSB9IGZyb20gJy4uL09wZW5YREEvT3BlblhEQVNsaWNlJztcclxuaW1wb3J0IHN0eWxlcyBmcm9tICcuLi8uLi8uLi9TdHlsZXMvYXBwLnNjc3MnO1xyXG5cclxuXHJcbmNvbnN0IERhdGFTZXQ6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PHsgUmVjb3JkOiBUcmVuREFQLmlEYXRhU2V0LCBTZXREYXRhU2V0OiAod3M6IFRyZW5EQVAuaURhdGFTZXQpID0+IHZvaWQgfT4gPSAocHJvcHMpID0+IHtcclxuICAgIGNvbnN0IGRhdGFTb3VyY2VUeXBlcyA9IHVzZVNlbGVjdG9yKFNlbGVjdERhdGFTb3VyY2VUeXBlcykgYXMgVHJlbkRBUC5pRGF0YVNvdXJjZVR5cGVbXTtcclxuICAgIGNvbnN0IGRzdFN0YXR1cyA9IHVzZVNlbGVjdG9yKFNlbGVjdERhdGFTb3VyY2VUeXBlc1N0YXR1cyk7XHJcbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoZHN0U3RhdHVzICE9ICd1bml0aWF0ZWQnKSByZXR1cm47XHJcblxyXG4gICAgICAgIGRpc3BhdGNoKEZldGNoRGF0YVNvdXJjZVR5cGVzKCkpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2Rpc3BhdGNoLCBkc3RTdGF0dXNdKTtcclxuXHJcbiAgICBjb25zdCBbdGFiLCBzZXRUYWJdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nPignc2V0dGluZ3MnKTtcclxuICAgIGNvbnN0IGRhdGFTb3VyY2VzID0gSlNPTi5wYXJzZShwcm9wcy5SZWNvcmQuSlNPTlN0cmluZyk7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdi10YWJzXCIgc3R5bGU9e3twYWRkaW5nOjEwfX0+XHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJuYXYtbGluayBhY3RpdmVcIiBkYXRhLXRvZ2dsZT1cInRhYlwiIG9uQ2xpY2s9eygpID0+IHNldFRhYignc2V0dGluZ3MnKSB9PlNldHRpbmdzPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhU291cmNlcy5tYXAoKGRzLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPXtcIm5hdi1pdGVtIFwiICsgc3R5bGVzLndvcmtzcGFjZXRhYn0gIGtleT17aW5kZXh9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwibmF2LWxpbmtcIiBkYXRhLXRvZ2dsZT1cInRhYlwiIG9uQ2xpY2s9eygpID0+IHNldFRhYihpbmRleC50b1N0cmluZygpKX0+e2RzLkRhdGFTb3VyY2UuTmFtZX08L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKHByb3BzLlJlY29yZC5KU09OU3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMuU2V0RGF0YVNldCh7IC4uLnByb3BzLlJlY29yZCwgSlNPTlN0cmluZzogSlNPTi5zdHJpbmdpZnkoanNvbikgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5YPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICkpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFiLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtcInRhYi1wYW5lIGNvbnRhaW5lciBcIisgKHRhYiA9PT0gXCJzZXR0aW5nc1wiID8gJ2FjdGl2ZScgOiAnZmFkZScpfT5cclxuICAgICAgICAgICAgICAgICAgICA8RGF0YVNldEdsb2JhbFNldHRpbmdzIHsuLi5wcm9wc30gLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFTb3VyY2VzLm1hcCgoZHMsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtcInRhYi1wYW5lIGNvbnRhaW5lciBcIiArICh0YWIgPT09IGluZGV4LnRvU3RyaW5nKCkgPyAnYWN0aXZlJyA6ICdmYWRlJyl9IGlkPXtpbmRleH0ga2V5PXtpbmRleH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRhdGFTb3VyY2VUeXBlcy5maW5kKGRzdCA9PiBkc3QuSUQgPT09IGRzLkRhdGFTb3VyY2UuRGF0YVNvdXJjZVR5cGVJRCk/Lk5hbWUgPT09IFwiVHJlbkRBUERCXCIgPyA8RGF0YVNldE9wZW5YREEgey4uLnByb3BzfSBEYXRhPXtkc30gSW5kZXg9e2luZGV4fS8+OiBudWxsIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICkpXHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPC8+XHJcbiAgICApO1xyXG59XHJcblxyXG5jb25zdCBEYXRhU2V0R2xvYmFsU2V0dGluZ3M6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PHsgUmVjb3JkOiBUcmVuREFQLmlEYXRhU2V0LCBTZXREYXRhU2V0OiAod3M6IFRyZW5EQVAuaURhdGFTZXQpID0+IHZvaWQgfT4gPSAocHJvcHMpID0+IHtcclxuICAgIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcclxuICAgIGNvbnN0IGRhdGFTb3VyY2VzID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBSZWR1eC5TdG9yZVN0YXRlKSA9PiBTZWxlY3REYXRhU291cmNlc0ZvclVzZXIoc3RhdGUsIHVzZXJOYW1lKSkgYXMgVHJlbkRBUC5pRGF0YVNvdXJjZVtdO1xyXG4gICAgY29uc3QgcHVibGljRGF0YVNvdXJjZXMgPSB1c2VTZWxlY3Rvcigoc3RhdGU6IFJlZHV4LlN0b3JlU3RhdGUpID0+IFNlbGVjdERhdGFTb3VyY2VzQWxsUHVibGljTm90VXNlcihzdGF0ZSwgdXNlck5hbWUpKSBhcyBUcmVuREFQLmlEYXRhU291cmNlW107XHJcbiAgICBjb25zdCBkc1N0YXR1cyA9IHVzZVNlbGVjdG9yKFNlbGVjdERhdGFTb3VyY2VzU3RhdHVzKTtcclxuICAgIGNvbnN0IGRhdGFTb3VyY2VUeXBlcyA9IHVzZVNlbGVjdG9yKFNlbGVjdERhdGFTb3VyY2VUeXBlcykgYXMgVHJlbkRBUC5pRGF0YVNvdXJjZVR5cGVbXTtcclxuICAgIGNvbnN0IGRzdFN0YXR1cyA9IHVzZVNlbGVjdG9yKFNlbGVjdERhdGFTb3VyY2VUeXBlc1N0YXR1cyk7XHJcblxyXG5cclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKGRzU3RhdHVzICE9ICd1bml0aWF0ZWQnICYmIGRzU3RhdHVzICE9ICdjaGFuZ2VkJykgcmV0dXJuO1xyXG4gICAgICAgIGRpc3BhdGNoKEZldGNoRGF0YVNvdXJjZXMoKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2Rpc3BhdGNoLCBkc1N0YXR1c10pO1xyXG5cclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKGRzdFN0YXR1cyAhPSAndW5pdGlhdGVkJykgcmV0dXJuO1xyXG5cclxuICAgICAgICBkaXNwYXRjaChGZXRjaERhdGFTb3VyY2VUeXBlcygpKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtkaXNwYXRjaCwgZHN0U3RhdHVzXSk7XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHZhbGlkKGZpZWxkOiBrZXlvZiAoVHJlbkRBUC5pRGF0YVNldCkpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoZmllbGQgPT0gJ05hbWUnKVxyXG4gICAgICAgICAgICByZXR1cm4gcHJvcHMuUmVjb3JkLk5hbWUgIT0gbnVsbCAmJiBwcm9wcy5SZWNvcmQuTmFtZS5sZW5ndGggPiAwICYmIHByb3BzLlJlY29yZC5OYW1lLmxlbmd0aCA8PSAyMDA7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBBZGREUyhkYXRhU291cmNlOiBUcmVuREFQLmlEYXRhU291cmNlKSB7XHJcbiAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKHByb3BzLlJlY29yZC5KU09OU3RyaW5nKTtcclxuICAgICAgICBqc29uLnB1c2goeyBEYXRhU291cmNlOiBkYXRhU291cmNlLCBEYXRhOiBHZXREUyhkYXRhU291cmNlKSB9KTtcclxuICAgICAgICBwcm9wcy5TZXREYXRhU2V0KHsgLi4ucHJvcHMuUmVjb3JkLCBKU09OU3RyaW5nOiBKU09OLnN0cmluZ2lmeShqc29uKSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBHZXREUyhkYXRhU291cmNlOiBUcmVuREFQLmlEYXRhU291cmNlKSB7XHJcbiAgICAgICAgaWYgKGRhdGFTb3VyY2VUeXBlcy5maW5kKGRzdCA9PiBkc3QuSUQgPT09IGRhdGFTb3VyY2UuRGF0YVNvdXJjZVR5cGVJRCkuTmFtZSA9PT0gXCJUcmVuREFQREJcIilcclxuICAgICAgICAgICAgcmV0dXJuIFNlbGVjdE5ld1hEQURhdGFTZXQoKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxmb3JtPlxyXG4gICAgICAgICAgICA8SW5wdXQ8VHJlbkRBUC5pRGF0YVNldD4gUmVjb3JkPXtwcm9wcy5SZWNvcmR9IEZpZWxkPVwiTmFtZVwiIFNldHRlcj17KHJlY29yZCkgPT4gcHJvcHMuU2V0RGF0YVNldChyZWNvcmQpfSBWYWxpZD17dmFsaWR9IC8+XHJcbiAgICAgICAgICAgIDxSZWxhdGl2ZURhdGVSYW5nZVBpY2tlciBSZWNvcmQ9e3Byb3BzLlJlY29yZH0gU2V0dGVyPXsocmVjb3JkKSA9PiBwcm9wcy5TZXREYXRhU2V0KHJlY29yZCl9Lz5cclxuICAgICAgICAgICAgey8qPERhdGVSYW5nZVBpY2tlcjxUcmVuREFQLmlEYXRhU2V0PiBSZWNvcmQ9e3Byb3BzLlJlY29yZH0gRnJvbUZpZWxkPVwiRnJvbVwiIFRvRmllbGQ9XCJUb1wiIFNldHRlcj17cHJvcHMuU2V0RGF0YVNldH0gTGFiZWw9XCJEYXRlIFJhbmdlXCIgLz4qL31cclxuICAgICAgICAgICAgPEVudW1DaGVja0JveGVzPFRyZW5EQVAuaURhdGFTZXQ+IFJlY29yZD17cHJvcHMuUmVjb3JkfSBGaWVsZD1cIkhvdXJzXCIgTGFiZWw9XCJIb3VyIG9mIERheVwiIFNldHRlcj17KHJlY29yZCkgPT4gcHJvcHMuU2V0RGF0YVNldChyZWNvcmQpfSBFbnVtPXtBcnJheS5mcm9tKHsgbGVuZ3RoOiAyNCB9LCAoXywgaSkgPT4gaS50b1N0cmluZygpKX0gLz5cclxuICAgICAgICAgICAgPEVudW1DaGVja0JveGVzPFRyZW5EQVAuaURhdGFTZXQ+IFJlY29yZD17cHJvcHMuUmVjb3JkfSBGaWVsZD1cIkRheXNcIiBMYWJlbD1cIkRheSBvZiBXZWVrXCIgU2V0dGVyPXsocmVjb3JkKSA9PiBwcm9wcy5TZXREYXRhU2V0KHJlY29yZCl9IEVudW09e1snU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXX0gLz5cclxuICAgICAgICAgICAgPEVudW1DaGVja0JveGVzPFRyZW5EQVAuaURhdGFTZXQ+IFJlY29yZD17cHJvcHMuUmVjb3JkfSBGaWVsZD1cIldlZWtzXCIgTGFiZWw9XCJXZWVrIG9mIFllYXJcIiBTZXR0ZXI9eyhyZWNvcmQpID0+IHByb3BzLlNldERhdGFTZXQocmVjb3JkKX0gRW51bT17QXJyYXkuZnJvbSh7IGxlbmd0aDogNTMgfSwgKF8sIGkpID0+IGkudG9TdHJpbmcoKSl9IC8+XHJcbiAgICAgICAgICAgIDxFbnVtQ2hlY2tCb3hlczxUcmVuREFQLmlEYXRhU2V0PiBSZWNvcmQ9e3Byb3BzLlJlY29yZH0gRmllbGQ9XCJNb250aHNcIiBMYWJlbD1cIk1vbnRoIG9mIFllYXJcIiBTZXR0ZXI9eyhyZWNvcmQpID0+IHByb3BzLlNldERhdGFTZXQocmVjb3JkKX0gRW51bT17WydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ119IC8+XHJcbiAgICAgICAgICAgIDxDaGVja0JveDxUcmVuREFQLmlEYXRhU2V0PiBSZWNvcmQ9e3Byb3BzLlJlY29yZH0gRmllbGQ9XCJQdWJsaWNcIiBMYWJlbD0nR2xvYmFsJyBTZXR0ZXI9eyhyZWNvcmQpID0+IHByb3BzLlNldERhdGFTZXQocmVjb3JkKX0gLz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHJvcHVwXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tc2Vjb25kYXJ5IGRyb3Bkb3duLXRvZ2dsZVwiIHR5cGU9XCJidXR0b25cIiBpZD1cImRyb3Bkb3duTWVudUJ1dHRvblwiIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtQbHVzfSBEYXRhU291cmNlXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnVcIiBhcmlhLWxhYmVsbGVkYnk9XCJkcm9wZG93bk1lbnVCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRyb3Bkb3duLWhlYWRlclwiPllvdXIgRGF0YVNvdXJjZXM8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2RhdGFTb3VyY2VzLm1hcChkcyA9PiA8YSBrZXk9e2RzLklEfSBjbGFzc05hbWU9XCJkcm9wZG93bi1pdGVtXCIgb25DbGljaz17KCkgPT4gQWRkRFMoZHMpIH0+e2RzLk5hbWV9ICh7ZGF0YVNvdXJjZVR5cGVzLmZpbmQoZHN0ID0+IGRzdC5JRCA9PT0gZHMuRGF0YVNvdXJjZVR5cGVJRCk/Lk5hbWUgIH0pPC9hPil9XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcm9wZG93bi1oZWFkZXJcIj5HbG9iYWwgRGF0YVNvdXJjZXM8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3B1YmxpY0RhdGFTb3VyY2VzLm1hcChkcyA9PiA8YSBrZXk9e2RzLklEfSBjbGFzc05hbWU9XCJkcm9wZG93bi1pdGVtXCIgb25DbGljaz17KCkgPT4gQWRkRFMoZHMpfT57ZHMuTmFtZX0gKHtkYXRhU291cmNlVHlwZXMuZmluZChkc3QgPT4gZHN0LklEID09PSBkcy5EYXRhU291cmNlVHlwZUlEKT8uTmFtZX0pPC9hPil9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZm9ybT5cclxuICAgICk7XHJcblxyXG59XHJcblxyXG5jb25zdCBSZWxhdGl2ZURhdGVSYW5nZVBpY2tlciA9IChwcm9wczogeyBSZWNvcmQ6IFRyZW5EQVAuaURhdGFTZXQsIFNldHRlcjogKHJlY29yZDpUcmVuREFQLmlEYXRhU2V0KSA9PiB2b2lkIH0pID0+IHtcclxuICAgIGNvbnN0IFtjb250ZXh0LCBzZXRDb250ZXh0XSA9IFJlYWN0LnVzZVN0YXRlPCdSZWxhdGl2ZScgfCAnRml4ZWQgRGF0ZXMnPihwcm9wcy5SZWNvcmQuQ29udGV4dCk7XHJcbiAgICBjb25zdCBbcmVsYXRpdmVWYWx1ZSwgc2V0UmVsYXRpdmVWYWx1ZV0gPSBSZWFjdC51c2VTdGF0ZTxudW1iZXI+KHByb3BzLlJlY29yZC5SZWxhdGl2ZVZhbHVlKTtcclxuICAgIGNvbnN0IFtyZWxhdGl2ZVdpbmRvdywgc2V0UmVsYXRpdmVXaW5kb3ddID0gUmVhY3QudXNlU3RhdGU8J0RheScgfCAnV2VlaycgfCAnTW9udGgnIHwgJ1llYXInPihwcm9wcy5SZWNvcmQuUmVsYXRpdmVXaW5kb3cpXHJcbiAgICBjb25zdCBbc3RhcnREYXRlLCBzZXRTdGFydERhdGVdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nPihwcm9wcy5SZWNvcmQuRnJvbSk7XHJcbiAgICBjb25zdCBbZW5kRGF0ZSwgc2V0RW5kRGF0ZV0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmc+KHByb3BzLlJlY29yZC5Ubyk7XHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHsgIFxyXG4gICAgICAgIGlmIChjb250ZXh0ICE9PSBwcm9wcy5SZWNvcmQuQ29udGV4dCkgc2V0Q29udGV4dChwcm9wcy5SZWNvcmQuQ29udGV4dCk7XHJcbiAgICAgICAgaWYgKHJlbGF0aXZlVmFsdWUgIT09IHByb3BzLlJlY29yZC5SZWxhdGl2ZVZhbHVlKSBzZXRSZWxhdGl2ZVZhbHVlKHByb3BzLlJlY29yZC5SZWxhdGl2ZVZhbHVlKTtcclxuICAgICAgICBpZiAocmVsYXRpdmVXaW5kb3cgIT09IHByb3BzLlJlY29yZC5SZWxhdGl2ZVdpbmRvdykgc2V0UmVsYXRpdmVXaW5kb3cocHJvcHMuUmVjb3JkLlJlbGF0aXZlV2luZG93KTtcclxuICAgICAgICBpZiAoc3RhcnREYXRlICE9PSBwcm9wcy5SZWNvcmQuRnJvbSkgc2V0U3RhcnREYXRlKHByb3BzLlJlY29yZC5Gcm9tKTtcclxuICAgICAgICBpZiAoZW5kRGF0ZSAhPT0gcHJvcHMuUmVjb3JkLlRvKSBzZXRFbmREYXRlKHByb3BzLlJlY29yZC5Ubyk7XHJcbiAgICB9LCBbcHJvcHMuUmVjb3JkXSk7XHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoY29udGV4dCAhPT0gcHJvcHMuUmVjb3JkLkNvbnRleHQpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3UmVjb3JkID0geyAuLi5wcm9wcy5SZWNvcmQgfTtcclxuICAgICAgICAgICAgbmV3UmVjb3JkLkNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgICAgICBwcm9wcy5TZXR0ZXIobmV3UmVjb3JkKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbY29udGV4dF0pO1xyXG5cclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlbGF0aXZlVmFsdWUgIT09IHByb3BzLlJlY29yZC5SZWxhdGl2ZVZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1JlY29yZCA9IHsgLi4ucHJvcHMuUmVjb3JkIH07XHJcbiAgICAgICAgICAgIG5ld1JlY29yZC5SZWxhdGl2ZVZhbHVlID0gcmVsYXRpdmVWYWx1ZTtcclxuICAgICAgICAgICAgcHJvcHMuU2V0dGVyKG5ld1JlY29yZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW3JlbGF0aXZlVmFsdWVdKTtcclxuXHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChyZWxhdGl2ZVdpbmRvdyAhPT0gcHJvcHMuUmVjb3JkLlJlbGF0aXZlV2luZG93KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1JlY29yZCA9IHsgLi4ucHJvcHMuUmVjb3JkIH07XHJcbiAgICAgICAgICAgIG5ld1JlY29yZC5SZWxhdGl2ZVdpbmRvdyA9IHJlbGF0aXZlV2luZG93O1xyXG4gICAgICAgICAgICBwcm9wcy5TZXR0ZXIobmV3UmVjb3JkKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbcmVsYXRpdmVXaW5kb3ddKTtcclxuXHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChzdGFydERhdGUgIT09IHByb3BzLlJlY29yZC5Gcm9tKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1JlY29yZCA9IHsgLi4ucHJvcHMuUmVjb3JkIH07XHJcbiAgICAgICAgICAgIG5ld1JlY29yZC5Gcm9tID0gc3RhcnREYXRlO1xyXG4gICAgICAgICAgICBwcm9wcy5TZXR0ZXIobmV3UmVjb3JkKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbc3RhcnREYXRlXSk7XHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoZW5kRGF0ZSAhPT0gcHJvcHMuUmVjb3JkLlRvKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1JlY29yZCA9IHsgLi4ucHJvcHMuUmVjb3JkIH07XHJcbiAgICAgICAgICAgIG5ld1JlY29yZC5UbyA9IGVuZERhdGU7XHJcbiAgICAgICAgICAgIHByb3BzLlNldHRlcihuZXdSZWNvcmQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtlbmREYXRlXSk7XHJcblxyXG5cclxuICAgIGNvbnN0IFNob3dDb250ZW50ID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChjb250ZXh0ID09ICdSZWxhdGl2ZScpXHJcbiAgICAgICAgICAgIHJldHVybiBTaG93UmVsYXRpdmUoKTtcclxuICAgICAgICBlbHNlIHJldHVybiBTaG93Rml4ZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBTaG93UmVsYXRpdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbD5UaW1lIFdpbmRvdyBTaXplPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e3JlbGF0aXZlVmFsdWV9IHR5cGU9J251bWJlcicgY2xhc3NOYW1lPSdmb3JtLWNvbnRyb2wnIG9uQ2hhbmdlPXsoZXZ0KSA9PiBzZXRSZWxhdGl2ZVZhbHVlKHBhcnNlRmxvYXQoZXZ0LnRhcmdldC52YWx1ZSkpIH0vPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sJz5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWw+VGltZSBXaW5kb3cgVW5pdHM8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3NOYW1lPSdmb3JtLWNvbnRyb2wnIHZhbHVlPXtyZWxhdGl2ZVdpbmRvd30gb25DaGFuZ2U9eyhldnQpID0+IHNldFJlbGF0aXZlV2luZG93KGV2dC50YXJnZXQudmFsdWUgYXMgYW55KX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J0RheSc+RGF5KHMpPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J1dlZWsnPldlZWsocyk8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nTW9udGgnPk1vbnRoKHMpPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J1llYXInPlllYXIocyk8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8Lz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgY29uc3QgU2hvd0ZpeGVkID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sJz5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWw+U3RhcnQgRGF0ZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtzdGFydERhdGV9IHR5cGU9J2RhdGUnIGNsYXNzTmFtZT0nZm9ybS1jb250cm9sJyBvbkNoYW5nZT17KGV2dCkgPT4gc2V0U3RhcnREYXRlKGV2dC50YXJnZXQudmFsdWUpfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sJz5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWw+RW5kIERhdGU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17ZW5kRGF0ZX0gdHlwZT0nZGF0ZScgY2xhc3NOYW1lPSdmb3JtLWNvbnRyb2wnIG9uQ2hhbmdlPXsoZXZ0KSA9PiBzZXRFbmREYXRlKGV2dC50YXJnZXQudmFsdWUpfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3Jvdyc+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wnPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsPlRpbWUgQ29udGV4dDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzTmFtZT0nZm9ybS1jb250cm9sJyB2YWx1ZT17Y29udGV4dH0gb25DaGFuZ2U9eyhldnQpID0+IHNldENvbnRleHQoZXZ0LnRhcmdldC52YWx1ZSBhcyBhbnkpfT5cclxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSdSZWxhdGl2ZSc+UmVsYXRpdmU8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSdGaXhlZCBEYXRlcyc+Rml4ZWQgRGF0ZXM8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAge1Nob3dDb250ZW50KCl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG59XHJcblxyXG5cclxuY29uc3QgRGF0YVNldE9wZW5YREE6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PHsgUmVjb3JkOiBUcmVuREFQLmlEYXRhU2V0LCBEYXRhOiB7RGF0YVNvdXJjZTogVHJlbkRBUC5pRGF0YVNvdXJjZSwgRGF0YTogVHJlbkRBUC5pWERBRGF0YVNldH0sIEluZGV4OiBudW1iZXIsIFNldERhdGFTZXQ6ICh3czogVHJlbkRBUC5pRGF0YVNldCkgPT4gdm9pZCB9PiA9IChwcm9wcykgPT4ge1xyXG4gICAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xyXG4gICAgY29uc3QgcGhhc2VzID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBSZWR1eC5TdG9yZVN0YXRlKSA9PiBTZWxlY3RPcGVuWERBKHN0YXRlLCBwcm9wcy5EYXRhLkRhdGFTb3VyY2UuSUQsICdQaGFzZScpKTtcclxuICAgIGNvbnN0IG1ldGVycyA9IHVzZVNlbGVjdG9yKChzdGF0ZTogUmVkdXguU3RvcmVTdGF0ZSkgPT4gU2VsZWN0T3BlblhEQShzdGF0ZSwgcHJvcHMuRGF0YS5EYXRhU291cmNlLklELCAnTWV0ZXInKSk7XHJcbiAgICBjb25zdCBhc3NldHMgPSB1c2VTZWxlY3Rvcigoc3RhdGU6IFJlZHV4LlN0b3JlU3RhdGUpID0+IFNlbGVjdE9wZW5YREEoc3RhdGUsIHByb3BzLkRhdGEuRGF0YVNvdXJjZS5JRCwgJ0Fzc2V0JykpO1xyXG4gICAgY29uc3QgY2hhbm5lbEdyb3VwcyA9IHVzZVNlbGVjdG9yKChzdGF0ZTogUmVkdXguU3RvcmVTdGF0ZSkgPT4gU2VsZWN0T3BlblhEQShzdGF0ZSwgcHJvcHMuRGF0YS5EYXRhU291cmNlLklELCAnQ2hhbm5lbEdyb3VwJykpO1xyXG4gICAgY29uc3QgY2hhbm5lbFR5cGVzID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBSZWR1eC5TdG9yZVN0YXRlKSA9PiBTZWxlY3RPcGVuWERBKHN0YXRlLCBwcm9wcy5EYXRhLkRhdGFTb3VyY2UuSUQsICdDaGFubmVsR3JvdXBUeXBlJykpO1xyXG5cclxuICAgIGZ1bmN0aW9uIFVwZGF0ZURTKC4uLnBhcmFtczogeyBmaWVsZDoga2V5b2YgVHJlbkRBUC5pWERBRGF0YVNldCwgdmFsdWU6IGFueSB9W10gKSB7XHJcbiAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKHByb3BzLlJlY29yZC5KU09OU3RyaW5nKTtcclxuICAgICAgICBqc29uW3Byb3BzLkluZGV4XS5EYXRhID0geyAuLi5wcm9wcy5EYXRhLkRhdGF9O1xyXG4gICAgICAgIGZvciAodmFyIGluZGV4IGluIHBhcmFtcylcclxuICAgICAgICAgICAganNvbltwcm9wcy5JbmRleF0uRGF0YVtwYXJhbXNbaW5kZXhdLmZpZWxkXSA9IHBhcmFtc1tpbmRleF0udmFsdWU7XHJcbiAgICAgICAgcHJvcHMuU2V0RGF0YVNldCh7IC4uLnByb3BzLlJlY29yZCwgSlNPTlN0cmluZzogSlNPTi5zdHJpbmdpZnkoanNvbikgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAocGhhc2VzICE9IHVuZGVmaW5lZCAmJiBwaGFzZXM/LlN0YXR1cyAhPSAndW5pdGlhdGVkJyAmJiBwaGFzZXM/LlN0YXR1cyAhPSAnY2hhbmdlZCcpIHJldHVybjtcclxuICAgICAgICBkaXNwYXRjaChGZXRjaE9wZW5YREEoe2RhdGFTb3VyY2VJRDogcHJvcHMuRGF0YS5EYXRhU291cmNlLklELCB0YWJsZTogJ1BoYXNlJ30pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9XHJcbiAgICB9LCBbZGlzcGF0Y2gsIHBoYXNlcz8uU3RhdHVzIF0pO1xyXG5cclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKG1ldGVycyAhPSB1bmRlZmluZWQgJiYgbWV0ZXJzPy5TdGF0dXMgIT0gJ3VuaXRpYXRlZCcgJiYgbWV0ZXJzPy5TdGF0dXMgIT0gJ2NoYW5nZWQnKSByZXR1cm47XHJcbiAgICAgICAgZGlzcGF0Y2goRmV0Y2hPcGVuWERBKHsgZGF0YVNvdXJjZUlEOiBwcm9wcy5EYXRhLkRhdGFTb3VyY2UuSUQsIHRhYmxlOiAnTWV0ZXInIH0pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9XHJcbiAgICB9LCBbZGlzcGF0Y2gsIG1ldGVycz8uU3RhdHVzXSk7XHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoYXNzZXRzICE9IHVuZGVmaW5lZCAmJiBhc3NldHM/LlN0YXR1cyAhPSAndW5pdGlhdGVkJyAmJiBhc3NldHM/LlN0YXR1cyAhPSAnY2hhbmdlZCcpIHJldHVybjtcclxuICAgICAgICBkaXNwYXRjaChGZXRjaE9wZW5YREEoeyBkYXRhU291cmNlSUQ6IHByb3BzLkRhdGEuRGF0YVNvdXJjZS5JRCwgdGFibGU6ICdBc3NldCcgfSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtkaXNwYXRjaCwgYXNzZXRzPy5TdGF0dXNdKTtcclxuXHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChjaGFubmVsR3JvdXBzICE9IHVuZGVmaW5lZCAmJiBjaGFubmVsR3JvdXBzPy5TdGF0dXMgIT0gJ3VuaXRpYXRlZCcgJiYgY2hhbm5lbEdyb3Vwcz8uU3RhdHVzICE9ICdjaGFuZ2VkJykgcmV0dXJuO1xyXG4gICAgICAgIGRpc3BhdGNoKEZldGNoT3BlblhEQSh7IGRhdGFTb3VyY2VJRDogcHJvcHMuRGF0YS5EYXRhU291cmNlLklELCB0YWJsZTogJ0NoYW5uZWxHcm91cCcgfSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtkaXNwYXRjaCwgY2hhbm5lbEdyb3Vwcz8uU3RhdHVzXSk7XHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoY2hhbm5lbFR5cGVzICE9IHVuZGVmaW5lZCAmJiBjaGFubmVsVHlwZXM/LlN0YXR1cyAhPSAndW5pdGlhdGVkJyAmJiBjaGFubmVsVHlwZXM/LlN0YXR1cyAhPSAnY2hhbmdlZCcpIHJldHVybjtcclxuICAgICAgICBkaXNwYXRjaChGZXRjaE9wZW5YREEoeyBkYXRhU291cmNlSUQ6IHByb3BzLkRhdGEuRGF0YVNvdXJjZS5JRCwgdGFibGU6ICdDaGFubmVsR3JvdXBUeXBlJyB9KSk7XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2Rpc3BhdGNoLCBjaGFubmVsVHlwZXM/LlN0YXR1c10pO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGZvcm0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3Q8VHJlbkRBUC5pWERBRGF0YVNldD4gUmVjb3JkPXtwcm9wcy5EYXRhLkRhdGF9IEZpZWxkPVwiQWdncmVnYXRlXCIgT3B0aW9ucz17W3sgVmFsdWU6ICcnLCBMYWJlbDogJ05vbmUnIH0seyBWYWx1ZTogJzFoJywgTGFiZWw6ICdIb3VyJyB9LCB7IFZhbHVlOiAnMWQnLCBMYWJlbDogJ0RheScgfSwge1ZhbHVlOiAnMXcnLCBMYWJlbDogJ1dlZWsnfV19IFNldHRlcj17KHJlY29yZCkgPT4gVXBkYXRlRFMoeyBmaWVsZDogJ0FnZ3JlZ2F0ZScsIHZhbHVlOiByZWNvcmQuQWdncmVnYXRlIH0pfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3Q8VHJlbkRBUC5pWERBRGF0YVNldD4gUmVjb3JkPXtwcm9wcy5EYXRhLkRhdGF9IEZpZWxkPVwiQnlcIiBPcHRpb25zPXtbeyBWYWx1ZTogJ01ldGVyJywgTGFiZWw6ICdNZXRlcicgfSwgeyBWYWx1ZTogJ0Fzc2V0JywgTGFiZWw6ICdBc3NldCcgfV19IFNldHRlcj17KHJlY29yZCkgPT4gVXBkYXRlRFMoeyBmaWVsZDogJ0J5JywgdmFsdWU6IHJlY29yZC5CeSB9LCB7IGZpZWxkOiAnSURzJywgdmFsdWU6IFtdIH0gKX0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8QXJyYXlNdWx0aVNlbGVjdDxUcmVuREFQLmlYREFEYXRhU2V0PiBTdHlsZT17eyBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCAtIDUxMCB9fSBSZWNvcmQ9e3Byb3BzLkRhdGEuRGF0YX0gT3B0aW9ucz17KHByb3BzLkRhdGEuRGF0YS5CeSA9PSAnTWV0ZXInID8gbWV0ZXJzPy5EYXRhLm1hcChtID0+ICh7IFZhbHVlOiBtLklELCBMYWJlbDogbS5OYW1lIH0pKSA6IGFzc2V0cz8uRGF0YS5tYXAobSA9PiAoeyBWYWx1ZTogbS5JRCwgTGFiZWw6IG0uQXNzZXROYW1lIH0pKSkgPz8gW119IEZpZWxkPVwiSURzXCIgU2V0dGVyPXsocmVjb3JkKSA9PiBVcGRhdGVEUyh7IGZpZWxkOiAnSURzJywgdmFsdWU6IHJlY29yZC5JRHMgfSl9IC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEFycmF5Q2hlY2tCb3hlczxUcmVuREFQLmlYREFEYXRhU2V0PiBSZWNvcmQ9e3Byb3BzLkRhdGEuRGF0YX0gQ2hlY2tib3hlcz17cGhhc2VzPy5EYXRhLm1hcChtID0+ICh7IElEOiBtLklELCBMYWJlbDogbS5OYW1lIH0pKSA/PyBbXX0gRmllbGQ9XCJQaGFzZXNcIiBTZXR0ZXI9eyhyZWNvcmQpID0+IFVwZGF0ZURTKHsgZmllbGQ6ICdQaGFzZXMnLCB2YWx1ZTogcmVjb3JkLlBoYXNlcyB9KX0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8QXJyYXlDaGVja0JveGVzPFRyZW5EQVAuaVhEQURhdGFTZXQ+IExhYmVsPVwiUXVpY2sgU2VsZWN0aW9uXCIgUmVjb3JkPXtwcm9wcy5EYXRhLkRhdGF9IENoZWNrYm94ZXM9e2NoYW5uZWxHcm91cHM/LkRhdGEubWFwKG0gPT4gKHsgSUQ6IG0uSUQsIExhYmVsOiBtLk5hbWUgfSkpID8/IFtdfSBGaWVsZD1cIkdyb3Vwc1wiIFNldHRlcj17KHJlY29yZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvbGRHcm91cHMgPSBwcm9wcy5EYXRhLkRhdGEuR3JvdXBzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkR3JvdXBzLmxlbmd0aCA+IHJlY29yZC5Hcm91cHMubGVuZ3RoKSB7IC8vIHNvbWV0aGluZyB3YXMgdGFrZW4gb3V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IG9sZEdyb3Vwcy5tYXAoeCA9PiByZWNvcmQuR3JvdXBzLmluZGV4T2YoeCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSBhLmluZGV4T2YoLTEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoYW5uZWxHcm91cElEID0gb2xkR3JvdXBzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld2EgPSBwcm9wcy5EYXRhLkRhdGEuVHlwZXMubWFwKHQgPT4gY2hhbm5lbFR5cGVzLkRhdGEuZmluZChjdCA9PiBjdC5JRCA9PT0gdCkpLmZpbHRlcih0ID0+IHQuQ2hhbm5lbEdyb3VwSUQgIT09IG9sZEdyb3Vwc1tpXSkubWFwKHQgPT4gdC5JRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVcGRhdGVEUyh7IGZpZWxkOiAnR3JvdXBzJywgdmFsdWU6IHJlY29yZC5Hcm91cHMgfSwgeyBmaWVsZDogJ1R5cGVzJywgdmFsdWU6IG5ld2EgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob2xkR3JvdXBzLmxlbmd0aCA8IHJlY29yZC5Hcm91cHMubGVuZ3RoKSB7IC8vIHNvbWV0aGluZyB3YXMgcHV0IGluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IHJlY29yZC5Hcm91cHMubWFwKHggPT4gb2xkR3JvdXBzLmluZGV4T2YoeCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSBhLmluZGV4T2YoLTEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoYW5uZWxHcm91cElEID0gcmVjb3JkLkdyb3Vwc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdhID0gWy4uLnByb3BzLkRhdGEuRGF0YS5UeXBlcywgLi4uY2hhbm5lbFR5cGVzLkRhdGEuZmlsdGVyKHQgPT4gdC5DaGFubmVsR3JvdXBJRCA9PT0gY2hhbm5lbEdyb3VwSUQpLm1hcCh0ID0+IHQuSUQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVwZGF0ZURTKHsgZmllbGQ6ICdHcm91cHMnLCB2YWx1ZTogcmVjb3JkLkdyb3VwcyB9LCB7IGZpZWxkOiAnVHlwZXMnLCB2YWx1ZTogbmV3YSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsgIC8vIHRoaXMgcHJvYmFibHkgY2FuJ3QgaGFwcGVuLCBidXQgbWVhbnMgbm90aGluZyBjaGFuZ2VkXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxBcnJheU11bHRpU2VsZWN0PFRyZW5EQVAuaVhEQURhdGFTZXQ+IFN0eWxlPXt7IGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0IC0gNTIwIH19IFJlY29yZD17cHJvcHMuRGF0YS5EYXRhfSBPcHRpb25zPXtjaGFubmVsVHlwZXM/LkRhdGEubWFwKG0gPT4gKHsgVmFsdWU6IG0uSUQsIExhYmVsOiBtLkRpc3BsYXlOYW1lIH0pKSA/PyBbXX0gRmllbGQ9XCJUeXBlc1wiIFNldHRlcj17KHJlY29yZCkgPT4gVXBkYXRlRFMoeyBmaWVsZDogJ1R5cGVzJywgdmFsdWU6IHJlY29yZC5UeXBlcyB9KX0gLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Zvcm0+XHJcbiAgICApO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGF0YVNldDsiXSwic291cmNlUm9vdCI6IiJ9